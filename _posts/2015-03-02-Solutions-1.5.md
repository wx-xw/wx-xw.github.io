---
layout: post
category : Cracking the Coding Interview
tags : [读书, 面试]
---
### 题目
**Given two strings,write a method to decide if one is a permutation of the other.**

---

### 解答
```确定是否大小写敏感```

```空格是否有意义```

```时间复杂度O(n)，空间复杂度O(n)```

{% highlight java %}
/**
 * 计算压缩后的长度
 *
 * @param str 字符串
 * @return 压缩后长度
 */
public int countCompression(String str) {
    if (str.isEmpty()) {
        return 0;
    }
    char last = str.charAt(0);
    int size = 0;
    int count = 1;
    for (int i = 1; i < str.length(); i++) {
        if (str.charAt(i) == last) {
            count++;
        } else {
            last = str.charAt(i);
            size += 1 + String.valueOf(count).length();
            count = 1;
        }
    }
    size += 1 + String.valueOf(count).length();
    return size;
}

/**
 * 压缩算法
 *
 * @param str 字符串
 * @return 压缩后字符串
 */
public String compress(String str) {
    int size = countCompression(str);
    if (size >= str.length()) {
        return str;
    }

    char[] array = new char[size];
    int index = 0;
    char last = str.charAt(0);
    int count = 1;
    for (int i = 1; i < str.length(); i++) {
        if (str.charAt(i) == last) {
            count++;
        } else {
            index = setChar(array, last, index, count);
            last = str.charAt(i);
            count = 1;
        }
    }
    setChar(array, last, index, count);
    return String.valueOf(array);
}

/**
 * 设置字符数组
 *
 * @param array 数组，用于回调
 * @param c     字符
 * @param index 字符设置的下标
 * @param count 字符的数量
 * @return 新的下标
 */
public int setChar(char[] array, char c, int index, int count) {
    array[index] = c;
    index++;
    char[] cnt = String.valueOf(count).toCharArray();
    for (char x : cnt) {
        array[index] = x;
        index++;
    }
    return index;
}
{% endhighlight %}
